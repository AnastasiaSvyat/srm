<div class="admin-staff-container h100">
  <div class="col-md-8">
    <div fxLayout="row" class="mb-3 ml8">
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input matInput type="text" class="form-control" placeholder="Search by employee name..."
          [formControl]="searchByName" />
      </mat-form-field>
      <div class="input-group-append">
        <button class="h39 mt10 greyColor borderNone" type="button" (click)="searchName()">Search
        </button>
      </div>
    </div>
  </div>
  <div fxLayout="row" fxLayoutAlign="end none" class="mr24 mt16 btnAddLeft">
    <button class="btn w155" (click)='addUser()' mat-stroked-button>ADD USER</button>
  </div>
  <div class="col-md-12">
    <pagination-controls previousLabel="Prev" nextLabel="Next" [responsive]="true"
      (pageChange)="handlePageChange($event)">
    </pagination-controls>
    <div *ngFor="let employee of staffList | paginate : {
              itemsPerPage: pageSize,
              currentPage: page,
              totalItems: count};let i = index" [class.active]="i == currentIndex"
      (click)="setActiveEmployee(employee, i)">
    </div>
  </div>
  <mat-table [dataSource]="staffList" class="mat-elevation-z8 table w100 h100 mt16">
    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef> EMPLOYEE </mat-header-cell>
      <mat-cell *matCellDef="let element">
        <div *ngFor="let item of photoEmployee">
          <div class="sizePhotoStaffList" *ngIf="item.idEmployee == element.id">
            <img src={{item.imagePath}} alt="">
          </div>
        </div>
        <div class="ml8">{{element.name}}</div>
      </mat-cell>
    </ng-container>
    <ng-container matColumnDef="position">
      <mat-header-cell *matHeaderCellDef> POSITION </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.position}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="birthday">
      <mat-header-cell *matHeaderCellDef> BIRTH DATE </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.date | date:"dd.MM.yy"}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="salary">
      <mat-header-cell *matHeaderCellDef> SALARY </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.salary}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="firstDay">
      <mat-header-cell *matHeaderCellDef> FIRST DAY </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.birth}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="lastPerf">
      <mat-header-cell *matHeaderCellDef> LAST PERFORMANCE </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.birth}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="phone">
      <mat-header-cell *matHeaderCellDef> PHONE </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.phone}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="email">
      <mat-header-cell *matHeaderCellDef> EMAIL </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element.email}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="cv">
      <mat-header-cell *matHeaderCellDef></mat-header-cell>
      <mat-cell *matCellDef="let element">
        <button class="ml24" (click)="getCV(element)" mat-button>CV</button>
      </mat-cell>
    </ng-container>
    <ng-container matColumnDef="change">
      <mat-header-cell *matHeaderCellDef></mat-header-cell>
      <mat-cell *matCellDef="let element">
        <button mat-button (click)="editUser(element)">change log</button>
      </mat-cell>
    </ng-container>
    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
  </mat-table>
</div>